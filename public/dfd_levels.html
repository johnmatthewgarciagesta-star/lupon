<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>DFD – Lupon Tagapamayapa CMS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #0d1117;
            color: #e2e8f0;
            min-height: 100vh;
            padding: 28px 18px 72px
        }

        .header {
            text-align: center;
            margin-bottom: 30px
        }

        .header h1 {
            font-size: 1.9rem;
            font-weight: 700;
            letter-spacing: -.5px;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px
        }

        .header p {
            color: #64748b;
            font-size: .82rem
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 28px
        }

        .tab {
            padding: 9px 28px;
            border-radius: 8px;
            border: 1px solid #1e293b;
            background: #0f172a;
            color: #64748b;
            font-size: .83rem;
            font-weight: 500;
            cursor: pointer;
            transition: all .2s;
            user-select: none
        }

        .tab:hover {
            border-color: #334155;
            color: #94a3b8
        }

        .tab.active {
            background: #1e293b;
            border-color: #3b82f6;
            color: #60a5fa;
            font-weight: 600
        }

        .panel {
            display: none
        }

        .panel.active {
            display: block
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            justify-content: center;
            margin-bottom: 20px
        }

        .li {
            display: flex;
            align-items: center;
            gap: 7px;
            font-size: .74rem;
            color: #94a3b8
        }

        .lb {
            width: 26px;
            height: 16px;
            border: 2px solid;
            border-radius: 4px
        }

        .sw {
            overflow-x: auto;
            background: #f8f8f8;
            border: 1px solid #d1d5db;
            border-radius: 12px;
            padding: 20px
        }

        svg {
            display: block;
            margin: 0 auto
        }

        .notation {
            max-width: 900px;
            margin: 24px auto 0;
            background: #0f172a;
            border: 1px solid #1e293b;
            border-radius: 10px;
            padding: 18px 24px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 14px
        }

        .nk {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: .78rem;
            color: #94a3b8
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>Data Flow Diagram</h1>
        <p>Lupon Tagapamayapa Case Management System &nbsp;·&nbsp; Laravel 11 + Inertia.js + React</p>
    </div>

    <div class="tabs">
        <div class="tab active" onclick="show('l0',this)">Level 0 — Context Diagram</div>
        <div class="tab" onclick="show('l1',this)">Level 1 — System DFD</div>
    </div>

    <!-- ══════════════════════════════════════════════════════════ -->
    <!--  LEVEL 0                                                   -->
    <!-- ══════════════════════════════════════════════════════════ -->
    <div class="panel active" id="l0">
        <div class="legend">
            <div class="li">
                <div class="lb" style="background:#dbeafe;border-color:#1d4ed8"></div>Entity (Rectangle)
            </div>
            <div class="li">
                <div class="lb" style="background:#f3e8ff;border-color:#7c3aed;border-radius:50%"></div>Noun/Object
                (Circle)
            </div>
            <div class="li">
                <div class="lb" style="background:#dcfce7;border-color:#166534;border-radius:0"></div>Process
                (Tab-Rectangle)
            </div>
            <div class="li">
                <div class="lb" style="background:transparent;border-color:#374151"></div>Data Flow (Arrow + Verb)
            </div>
        </div>
        <div class="sw">
            <svg width="900" height="560" viewBox="0 0 900 560" style="background:#fff;font-family:Inter,sans-serif">
                <defs>
                    <marker id="arr" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L10,3z" fill="#374151" />
                    </marker>
                </defs>

                <!-- Title -->
                <text x="450" y="30" text-anchor="middle" font-size="16" font-weight="700" fill="#111827">Level 0 –
                    Context Diagram</text>
                <text x="450" y="48" text-anchor="middle" font-size="11" fill="#6b7280">Lupon Tagapamayapa Case
                    Management System</text>

                <!-- ── CENTRAL PROCESS (tab-rectangle shape) ── -->
                <!-- Tab top -->
                <rect x="300" y="218" width="60" height="14" rx="4" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.5" />
                <text x="330" y="229" text-anchor="middle" font-size="8" font-weight="700" fill="#166534">0</text>
                <!-- Main box -->
                <rect x="270" y="230" width="360" height="110" rx="4" fill="#f0fdf4" stroke="#166534"
                    stroke-width="2" />
                <text x="450" y="268" text-anchor="middle" font-size="13" font-weight="700" fill="#14532d">Lupon
                    Tagapamayapa</text>
                <text x="450" y="286" text-anchor="middle" font-size="13" font-weight="700" fill="#14532d">Case
                    Management System</text>
                <text x="450" y="308" text-anchor="middle" font-size="10" fill="#166534">Laravel + Inertia/React</text>
                <text x="450" y="324" text-anchor="middle" font-size="9" fill="#6b7280">Process 0</text>

                <!-- ── E1: User/Admin (RECTANGLE – Entity) ── LEFT -->
                <rect x="28" y="256" width="130" height="60" rx="2" fill="#dbeafe" stroke="#1d4ed8" stroke-width="2" />
                <text x="93" y="280" text-anchor="middle" font-size="11" font-weight="700" fill="#1e3a8a">User /
                    Admin</text>
                <text x="93" y="296" text-anchor="middle" font-size="9.5" fill="#1d4ed8">(Browser)</text>
                <text x="93" y="311" text-anchor="middle" font-size="8" fill="#6b7280">Entity</text>

                <!-- E1 → System -->
                <line x1="158" y1="276" x2="270" y2="276" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="214" y="268" text-anchor="middle" font-size="9" font-weight="600" fill="#374151">Submits</text>
                <!-- System → E1 -->
                <line x1="270" y1="296" x2="158" y2="296" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="214" y="310" text-anchor="middle" font-size="9" font-weight="600"
                    fill="#374151">Displays</text>

                <!-- ── E4: PDF Templates (CIRCLE – Noun) ── TOP -->
                <ellipse cx="450" cy="110" rx="80" ry="38" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="450" y="105" text-anchor="middle" font-size="10" font-weight="700" fill="#4c1d95">PDF
                    Templates</text>
                <text x="450" y="120" text-anchor="middle" font-size="9" fill="#7c3aed">public/forms/</text>
                <text x="450" y="135" text-anchor="middle" font-size="8" fill="#6b7280">Noun</text>

                <!-- PDF Templates → System -->
                <line x1="450" y1="148" x2="450" y2="230" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="466" y="192" text-anchor="middle" font-size="9" font-weight="600"
                    fill="#374151">Provides</text>

                <!-- ── E2: Ghostscript (CIRCLE – Noun) ── BOTTOM LEFT -->
                <ellipse cx="180" cy="470" rx="80" ry="38" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="180" y="464" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#4c1d95">Ghostscript</text>
                <text x="180" y="479" text-anchor="middle" font-size="9" fill="#7c3aed">PDF → PNG</text>
                <text x="180" y="494" text-anchor="middle" font-size="8" fill="#6b7280">Noun</text>

                <!-- System → GS -->
                <line x1="320" y1="340" x2="220" y2="440" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="248" y="388" text-anchor="middle" font-size="9" font-weight="600"
                    fill="#374151">Executes</text>
                <!-- GS → System -->
                <line x1="240" y1="448" x2="330" y2="348" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="296" y="415" text-anchor="middle" font-size="9" font-weight="600" fill="#374151">Returns</text>

                <!-- ── E3: Browsershot (CIRCLE – Noun) ── BOTTOM RIGHT -->
                <ellipse cx="700" cy="470" rx="80" ry="38" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="700" y="464" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#4c1d95">Browsershot</text>
                <text x="700" y="479" text-anchor="middle" font-size="9" fill="#7c3aed">HTML → PDF</text>
                <text x="700" y="494" text-anchor="middle" font-size="8" fill="#6b7280">Noun</text>

                <!-- System → BS -->
                <line x1="580" y1="340" x2="660" y2="440" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="634" y="388" text-anchor="middle" font-size="9" font-weight="600" fill="#374151">Renders</text>
                <!-- BS → System -->
                <line x1="650" y1="448" x2="568" y2="348" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="594" y="415" text-anchor="middle" font-size="9" font-weight="600"
                    fill="#374151">Generates</text>

                <!-- ── DS: MySQL Database (open-ended rect) ── RIGHT -->
                <!-- Open rect: left vertical + top + bottom lines, no right cap -->
                <line x1="762" y1="256" x2="762" y2="316" stroke="#166534" stroke-width="2" />
                <line x1="762" y1="256" x2="890" y2="256" stroke="#166534" stroke-width="2" />
                <line x1="762" y1="316" x2="890" y2="316" stroke="#166534" stroke-width="2" />
                <rect x="762" y="256" width="128" height="60" fill="#f0fdf4" stroke="none" />
                <line x1="762" y1="256" x2="762" y2="316" stroke="#166534" stroke-width="2" />
                <line x1="762" y1="256" x2="890" y2="256" stroke="#166534" stroke-width="2" />
                <line x1="762" y1="316" x2="890" y2="316" stroke="#166534" stroke-width="2" />
                <text x="826" y="275" text-anchor="middle" font-size="9" font-weight="700" fill="#14532d">D1</text>
                <text x="826" y="290" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">MySQL
                    DB</text>
                <text x="826" y="305" text-anchor="middle" font-size="8.5" fill="#166534">cases · docs · users</text>

                <!-- System → DB -->
                <line x1="630" y1="276" x2="762" y2="276" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="694" y="268" text-anchor="middle" font-size="9" font-weight="600" fill="#374151">Queries</text>
                <!-- DB → System -->
                <line x1="762" y1="296" x2="630" y2="296" stroke="#374151" stroke-width="1.5" marker-end="url(#arr)" />
                <text x="694" y="312" text-anchor="middle" font-size="9" font-weight="600" fill="#374151">Returns</text>

                <!-- Legend box -->
                <rect x="28" y="380" width="200" height="130" rx="6" fill="#f9fafb" stroke="#d1d5db" stroke-width="1" />
                <text x="128" y="400" text-anchor="middle" font-size="10" font-weight="700" fill="#374151">NOTATION
                    KEY</text>
                <!-- entity -->
                <rect x="40" y="410" width="40" height="20" rx="1" fill="#dbeafe" stroke="#1d4ed8" stroke-width="1.5" />
                <text x="90" y="424" font-size="9" fill="#374151">= Entity (rectangle)</text>
                <!-- noun/circle -->
                <ellipse cx="60" cy="450" rx="20" ry="12" fill="#f3e8ff" stroke="#7c3aed" stroke-width="1.5" />
                <text x="90" y="454" font-size="9" fill="#374151">= Noun/Object (circle)</text>
                <!-- process tab -->
                <rect x="44" y="468" width="14" height="6" rx="2" fill="#d1fae5" stroke="#166534" stroke-width="1" />
                <rect x="40" y="472" width="40" height="18" rx="1" fill="#f0fdf4" stroke="#166534" stroke-width="1.5" />
                <text x="90" y="484" font-size="9" fill="#374151">= Process (tab-rect)</text>
                <!-- data store -->
                <line x1="40" y1="500" x2="40" y2="510" stroke="#166534" stroke-width="1.5" />
                <line x1="40" y1="500" x2="80" y2="500" stroke="#166534" stroke-width="1.5" />
                <line x1="40" y1="510" x2="80" y2="510" stroke="#166534" stroke-width="1.5" />
                <text x="90" y="509" font-size="9" fill="#374151">= Data Store (open-rect)</text>
            </svg>
        </div>
    </div>

    <!-- ══════════════════════════════════════════════════════════ -->
    <!--  LEVEL 1                                                   -->
    <!-- ══════════════════════════════════════════════════════════ -->
    <div class="panel" id="l1">
        <div class="legend">
            <div class="li">
                <div class="lb" style="background:#dbeafe;border-color:#1d4ed8"></div>Entity (Rectangle)
            </div>
            <div class="li">
                <div class="lb" style="background:#f3e8ff;border-color:#7c3aed;border-radius:50%"></div>Noun/Object
                (Circle)
            </div>
            <div class="li">
                <div class="lb" style="background:#dcfce7;border-color:#166534;border-radius:0"></div>Process
                (Tab-Rectangle)
            </div>
            <div class="li">
                <div class="lb" style="background:#fef9c3;border-color:#854d0e;border-radius:0"></div>Data Store
                (Open-Rect)
            </div>
        </div>
        <div class="sw">
            <svg width="1060" height="920" viewBox="0 0 1060 920" style="background:#fff;font-family:Inter,sans-serif">
                <defs>
                    <marker id="ar1" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L10,3z" fill="#374151" />
                    </marker>
                </defs>

                <!-- Title -->
                <text x="530" y="28" text-anchor="middle" font-size="15" font-weight="700" fill="#111827">Level 1 –
                    System DFD</text>
                <text x="530" y="46" text-anchor="middle" font-size="10" fill="#6b7280">Lupon Tagapamayapa Case
                    Management System</text>

                <!-- ══ ENTITY: User/Admin (Rectangle) ══ -->
                <rect x="14" y="220" width="118" height="56" rx="2" fill="#dbeafe" stroke="#1d4ed8" stroke-width="2" />
                <text x="73" y="244" text-anchor="middle" font-size="10" font-weight="700" fill="#1e3a8a">User /
                    Admin</text>
                <text x="73" y="259" text-anchor="middle" font-size="9" fill="#1d4ed8">(Browser)</text>
                <text x="73" y="272" text-anchor="middle" font-size="8" fill="#6b7280">E1</text>

                <!-- ══ NOUN CIRCLES: Ghostscript, Browsershot, PDF Templates ══ -->
                <!-- Ghostscript -->
                <ellipse cx="88" cy="570" rx="72" ry="36" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="88" y="564" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#4c1d95">Ghostscript</text>
                <text x="88" y="578" text-anchor="middle" font-size="8.5" fill="#7c3aed">PDF → PNG</text>
                <text x="88" y="592" text-anchor="middle" font-size="7.5" fill="#6b7280">Noun · E2</text>

                <!-- Browsershot -->
                <ellipse cx="88" cy="690" rx="72" ry="36" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="88" y="684" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#4c1d95">Browsershot</text>
                <text x="88" y="698" text-anchor="middle" font-size="8.5" fill="#7c3aed">HTML → PDF</text>
                <text x="88" y="712" text-anchor="middle" font-size="7.5" fill="#6b7280">Noun · E3</text>

                <!-- PDF Templates -->
                <ellipse cx="940" cy="100" rx="80" ry="36" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2" />
                <text x="940" y="94" text-anchor="middle" font-size="10" font-weight="700" fill="#4c1d95">PDF
                    Templates</text>
                <text x="940" y="108" text-anchor="middle" font-size="8.5" fill="#7c3aed">public/forms/</text>
                <text x="940" y="122" text-anchor="middle" font-size="7.5" fill="#6b7280">Noun · E4</text>

                <!-- ══ DATA STORES (open-ended rectangles) ══ -->
                <!-- DS1 cases -->
                <line x1="320" y1="830" x2="320" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="320" y1="830" x2="510" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="320" y1="862" x2="510" y2="862" stroke="#854d0e" stroke-width="2" />
                <rect x="320" y="830" width="190" height="32" fill="#fef9c3" />
                <line x1="320" y1="830" x2="320" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="320" y1="830" x2="510" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="320" y1="862" x2="510" y2="862" stroke="#854d0e" stroke-width="2" />
                <text x="340" y="847" font-size="9" font-weight="700" fill="#854d0e">D1</text>
                <text x="415" y="847" text-anchor="middle" font-size="10" font-weight="700" fill="#78350f">cases</text>
                <text x="415" y="860" text-anchor="middle" font-size="8" fill="#92400e">LuponCase · MySQL</text>

                <!-- DS2 documents -->
                <line x1="540" y1="830" x2="540" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="540" y1="830" x2="730" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="540" y1="862" x2="730" y2="862" stroke="#854d0e" stroke-width="2" />
                <rect x="540" y="830" width="190" height="32" fill="#fef9c3" />
                <line x1="540" y1="830" x2="540" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="540" y1="830" x2="730" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="540" y1="862" x2="730" y2="862" stroke="#854d0e" stroke-width="2" />
                <text x="560" y="847" font-size="9" font-weight="700" fill="#854d0e">D2</text>
                <text x="635" y="847" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#78350f">documents</text>
                <text x="635" y="860" text-anchor="middle" font-size="8" fill="#92400e">Document · MySQL</text>

                <!-- DS3 users -->
                <line x1="100" y1="830" x2="100" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="100" y1="830" x2="290" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="100" y1="862" x2="290" y2="862" stroke="#854d0e" stroke-width="2" />
                <rect x="100" y="830" width="190" height="32" fill="#fef9c3" />
                <line x1="100" y1="830" x2="100" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="100" y1="830" x2="290" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="100" y1="862" x2="290" y2="862" stroke="#854d0e" stroke-width="2" />
                <text x="120" y="847" font-size="9" font-weight="700" fill="#854d0e">D3</text>
                <text x="195" y="847" text-anchor="middle" font-size="10" font-weight="700" fill="#78350f">users</text>
                <text x="195" y="860" text-anchor="middle" font-size="8" fill="#92400e">User · MySQL</text>

                <!-- DS4 form_layouts -->
                <line x1="760" y1="830" x2="760" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="760" y1="830" x2="970" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="760" y1="862" x2="970" y2="862" stroke="#854d0e" stroke-width="2" />
                <rect x="760" y="830" width="210" height="32" fill="#fef9c3" />
                <line x1="760" y1="830" x2="760" y2="862" stroke="#854d0e" stroke-width="2" />
                <line x1="760" y1="830" x2="970" y2="830" stroke="#854d0e" stroke-width="2" />
                <line x1="760" y1="862" x2="970" y2="862" stroke="#854d0e" stroke-width="2" />
                <text x="780" y="847" font-size="9" font-weight="700" fill="#854d0e">D4</text>
                <text x="865" y="847" text-anchor="middle" font-size="10" font-weight="700"
                    fill="#78350f">form_layouts</text>
                <text x="865" y="860" text-anchor="middle" font-size="8" fill="#92400e">FormLayout · MySQL</text>

                <!-- ══ PROCESSES (tab-rectangle) ══ -->
                <!-- Helper macro: tab on top-left of each process box -->

                <!-- P1: Authenticate -->
                <rect x="204" y="88" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534" stroke-width="1.2" />
                <text x="219" y="97" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">1.0</text>
                <rect x="190" y="98" width="160" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="270" y="122" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P1:
                    Authenticate</text>
                <text x="270" y="138" text-anchor="middle" font-size="8.5" fill="#166534">Fortify</text>
                <text x="270" y="150" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P2: Dashboard -->
                <rect x="454" y="88" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534" stroke-width="1.2" />
                <text x="469" y="97" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">2.0</text>
                <rect x="440" y="98" width="170" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="525" y="122" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P2:
                    Dashboard</text>
                <text x="525" y="138" text-anchor="middle" font-size="8.5" fill="#166534">DashboardController</text>
                <text x="525" y="150" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P6: Analytics -->
                <rect x="724" y="88" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534" stroke-width="1.2" />
                <text x="739" y="97" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">6.0</text>
                <rect x="710" y="98" width="170" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="795" y="122" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P6:
                    Analytics</text>
                <text x="795" y="138" text-anchor="middle" font-size="8.5" fill="#166534">Static Inertia Page</text>
                <text x="795" y="150" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P9: Frontend SPA (hub) -->
                <rect x="444" y="248" width="30" height="12" rx="3" fill="#bfdbfe" stroke="#1d4ed8"
                    stroke-width="1.2" />
                <text x="459" y="257" text-anchor="middle" font-size="7" font-weight="700" fill="#1d4ed8">9.0</text>
                <rect x="380" y="258" width="300" height="62" rx="3" fill="#eff6ff" stroke="#1d4ed8"
                    stroke-width="2.2" />
                <text x="530" y="280" text-anchor="middle" font-size="11" font-weight="700" fill="#1e3a8a">P9: Inertia /
                    React</text>
                <text x="530" y="297" text-anchor="middle" font-size="9" fill="#1d4ed8">Frontend SPA (Router)</text>
                <text x="530" y="312" text-anchor="middle" font-size="7.5" fill="#6b7280">Process – Central Hub</text>

                <!-- P3: Case Controller -->
                <rect x="184" y="388" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.2" />
                <text x="199" y="397" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">3.0</text>
                <rect x="170" y="398" width="180" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="260" y="422" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P3: Case
                    Controller</text>
                <text x="260" y="438" text-anchor="middle" font-size="8.5" fill="#166534">CaseController · CRUD</text>
                <text x="260" y="450" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P5: Report Controller -->
                <rect x="714" y="388" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.2" />
                <text x="729" y="397" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">5.0</text>
                <rect x="700" y="398" width="190" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="795" y="422" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P5: Report
                    Controller</text>
                <text x="795" y="438" text-anchor="middle" font-size="8.5" fill="#166534">ReportController</text>
                <text x="795" y="450" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P4: Document Controller -->
                <rect x="454" y="478" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.2" />
                <text x="469" y="487" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">4.0</text>
                <rect x="390" y="488" width="280" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="530" y="512" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P4: Document
                    Controller</text>
                <text x="530" y="528" text-anchor="middle" font-size="8.5" fill="#166534">DocumentController</text>
                <text x="530" y="540" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P7: Visual Editor -->
                <rect x="234" y="618" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.2" />
                <text x="249" y="627" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">7.0</text>
                <rect x="220" y="628" width="160" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="300" y="652" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P7: Visual
                    Editor</text>
                <text x="300" y="668" text-anchor="middle" font-size="8.5" fill="#166534">Blade View</text>
                <text x="300" y="680" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- P8: PDF Generator -->
                <rect x="484" y="618" width="30" height="12" rx="3" fill="#d1fae5" stroke="#166534"
                    stroke-width="1.2" />
                <text x="499" y="627" text-anchor="middle" font-size="7" font-weight="700" fill="#166534">8.0</text>
                <rect x="470" y="628" width="180" height="56" rx="3" fill="#f0fdf4" stroke="#166534"
                    stroke-width="1.8" />
                <text x="560" y="652" text-anchor="middle" font-size="10" font-weight="700" fill="#14532d">P8: PDF
                    Generator</text>
                <text x="560" y="668" text-anchor="middle" font-size="8.5" fill="#166534">Browsershot::html()</text>
                <text x="560" y="680" text-anchor="middle" font-size="7.5" fill="#6b7280">Process</text>

                <!-- ══ FLOWS ══ -->
                <!-- E1 → P1: Submits credentials -->
                <line x1="132" y1="234" x2="190" y2="130" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="143" y="178" font-size="8.5" font-weight="600" fill="#374151">Submits</text>

                <!-- P1 → DS3: Verifies -->
                <line x1="230" y1="154" x2="180" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="190" y="490" font-size="8" fill="#374151">Verifies</text>

                <!-- P1 → P9: Authorizes -->
                <line x1="350" y1="126" x2="442" y2="270" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="418" y="192" font-size="8.5" font-weight="600" fill="#374151">Authorizes</text>

                <!-- E1 ↔ P9 -->
                <line x1="132" y1="248" x2="380" y2="278" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="250" y="258" text-anchor="middle" font-size="8.5" font-weight="600"
                    fill="#374151">Requests</text>
                <line x1="380" y1="295" x2="132" y2="268" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="250" y="295" text-anchor="middle" font-size="8.5" font-weight="600"
                    fill="#374151">Displays</text>

                <!-- P9 ↔ P2 -->
                <line x1="515" y1="258" x2="515" y2="154" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="525" y="208" font-size="8.5" font-weight="600" fill="#374151">Navigates</text>
                <line x1="536" y1="154" x2="536" y2="258" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="548" y="208" font-size="8.5" font-weight="600" fill="#374151">Renders</text>

                <!-- P2 → DS1 -->
                <line x1="470" y1="154" x2="415" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="420" y="490" font-size="8" fill="#374151">Queries</text>

                <!-- P2 → DS2 -->
                <line x1="590" y1="154" x2="625" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="618" y="490" font-size="8" fill="#374151">Queries</text>

                <!-- P9 ↔ P6 -->
                <line x1="680" y1="268" x2="760" y2="154" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="745" y="215" font-size="8.5" font-weight="600" fill="#374151">Navigates</text>
                <line x1="775" y1="154" x2="695" y2="268" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="716" y="235" font-size="8.5" font-weight="600" fill="#374151">Renders</text>

                <!-- P9 ↔ P3 -->
                <line x1="415" y1="288" x2="320" y2="405" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="336" y="340" font-size="8.5" font-weight="600" fill="#374151">Manages</text>
                <line x1="330" y1="415" x2="420" y2="300" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="395" y="368" font-size="8.5" font-weight="600" fill="#374151">Returns</text>

                <!-- P3 → DS1 -->
                <line x1="260" y1="454" x2="390" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="292" y="650" font-size="8" fill="#374151">Reads/Writes</text>

                <!-- P9 ↔ P5 -->
                <line x1="645" y1="288" x2="740" y2="405" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="716" y="340" font-size="8.5" font-weight="600" fill="#374151">Requests</text>
                <line x1="752" y1="415" x2="657" y2="300" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="690" y="368" font-size="8.5" font-weight="600" fill="#374151">Returns</text>

                <!-- P5 → DS1 -->
                <line x1="760" y1="454" x2="510" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="668" y="650" font-size="8" fill="#374151">Queries</text>

                <!-- P9 ↔ P4 -->
                <line x1="522" y1="320" x2="522" y2="480" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="534" y="402" font-size="8.5" font-weight="600" fill="#374151">Requests</text>
                <line x1="510" y1="480" x2="510" y2="320" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="470" y="402" font-size="8.5" font-weight="600" fill="#374151">Returns</text>

                <!-- P4 → DS1 -->
                <line x1="450" y1="544" x2="430" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="412" y="700" font-size="8" fill="#374151">Reads</text>

                <!-- P4 → DS2 -->
                <line x1="580" y1="544" x2="620" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="618" y="700" font-size="8" fill="#374151">Saves</text>

                <!-- P4 → DS4 -->
                <line x1="640" y1="530" x2="840" y2="822" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="785" y="700" font-size="8" fill="#374151">Reads</text>

                <!-- P4 → PDF Templates (circle) -->
                <line x1="640" y1="510" x2="860" y2="120" stroke="#374151" stroke-width="1.3" stroke-dasharray="5 3"
                    marker-end="url(#ar1)" />
                <text x="798" y="310" font-size="8" fill="#374151">Reads</text>

                <!-- P4 → P7 -->
                <line x1="430" y1="556" x2="355" y2="628" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="365" y="590" font-size="8.5" font-weight="600" fill="#374151">Renders</text>

                <!-- P4 → P8 -->
                <line x1="530" y1="544" x2="530" y2="628" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="543" y="588" font-size="8.5" font-weight="600" fill="#374151">Generates</text>

                <!-- P7 ↔ Ghostscript circle -->
                <line x1="220" y1="650" x2="160" y2="590" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="160" y="622" font-size="8.5" font-weight="600" fill="#374151">Executes</text>
                <line x1="155" y1="580" x2="222" y2="638" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="164" y="605" font-size="8.5" font-weight="600" fill="#374151">Returns</text>

                <!-- P8 ↔ Browsershot circle -->
                <line x1="470" y1="664" x2="160" y2="690" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="300" y="660" text-anchor="middle" font-size="8.5" font-weight="600"
                    fill="#374151">Renders</text>
                <line x1="160" y1="703" x2="470" y2="678" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="300" y="706" text-anchor="middle" font-size="8.5" font-weight="600"
                    fill="#374151">Generates</text>

                <!-- P8 → P9 (PDF response) -->
                <line x1="650" y1="648" x2="660" y2="320" stroke="#374151" stroke-width="1.5" marker-end="url(#ar1)" />
                <text x="672" y="488" font-size="8.5" font-weight="600" fill="#374151">Sends PDF</text>
            </svg>
        </div>

        <!-- key -->
        <div class="notation">
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P1</span><span>Authenticate –
                    Fortify login/session</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P2</span><span>Dashboard – stats
                    &amp; charts</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P3</span><span>Case Controller –
                    CRUD operations</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P4</span><span>Document
                    Controller – create/view/generate</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P5</span><span>Report Controller
                    – stats + PDF export</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P6</span><span>Analytics – static
                    Inertia page</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P7</span><span>Visual Editor –
                    Blade + Ghostscript PNG bg</span></div>
            <div class="nk"><span style="color:#14532d;font-weight:700;min-width:30px">P8</span><span>PDF Generator –
                    Browsershot/Puppeteer</span></div>
            <div class="nk"><span style="color:#1d4ed8;font-weight:700;min-width:30px">P9</span><span>Inertia/React SPA
                    – central frontend hub</span></div>
        </div>
    </div>

    <script>
        function show(id, el) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }
    </script>
</body>

</html>